{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import'./Styles/Welcome.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Welcome=()=>{const navigate=useNavigate();const[isButtonVisible,setButtonVisible]=useState(true);const[inputValue,setInputValue]=useState();const redirectToUrl=()=>{if(inputValue>0&&inputValue<=100){navigate('/id',{state:{inputValue}});}else{alert('Please enter a valid ID');}};useEffect(()=>{loginButton();},[]);const loginButton=async()=>{try{const response=await fetch('https://localhost:8080/api/authorization',{method:'GET',credentials:'include'});if(response.status===200){setButtonVisible(false);}else{setButtonVisible(true);}console.log(isButtonVisible);}catch(error){console.error('Failed to fetch authorization:',error);}};const redirectToLogin=()=>{navigate('/login');};const redirectToAll=()=>{navigate('/All');};const redirectToProfile=()=>{if(!isButtonVisible){navigate('/profile');}else{navigate('/login');}};const redirectToAudioList=()=>{navigate('/audio_playlist');};const handleInputChange=event=>{setInputValue(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"button\",{className:isButtonVisible?\"top\":\"top active\",onClick:redirectToLogin,children:\"Sign in or sign up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Enter ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"userId\",placeholder:\"Enter your ID\",value:inputValue,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{onClick:redirectToUrl,children:\"Go\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"All_button\",onClick:redirectToAll,children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"top-left-button5\",onClick:redirectToProfile,children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"top-left-button3\",onClick:redirectToAudioList,children:\"\\u041C\\u0443\\u0437\\u043E\\u043D\"})]});};export default Welcome;","map":{"version":3,"names":["React","useContext","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Welcome","navigate","isButtonVisible","setButtonVisible","inputValue","setInputValue","redirectToUrl","state","alert","loginButton","response","fetch","method","credentials","status","console","log","error","redirectToLogin","redirectToAll","redirectToProfile","redirectToAudioList","handleInputChange","event","target","value","className","children","onClick","type","id","placeholder","onChange"],"sources":["C:/Users/dimu2/Java/SpringSecurity_1805/Frontend/spa/src/Welcome.jsx"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Styles/Welcome.css';\r\n\r\n\r\n\r\n\r\nconst Welcome = () => {\r\n    const navigate = useNavigate();\r\n    const [isButtonVisible, setButtonVisible] = useState(true);\r\n    const [inputValue, setInputValue] = useState();\r\n\r\n    const redirectToUrl =  () => {\r\n        if (inputValue > 0 && inputValue <= 100 ) {\r\n\r\n            navigate('/id', { state: { inputValue } });\r\n        }\r\n\r\n        else {\r\n            alert('Please enter a valid ID');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        loginButton();\r\n    }, []);\r\n\r\n    const loginButton = async () => {\r\n        try {\r\n            const response = await fetch('https://localhost:8080/api/authorization', {\r\n                method: 'GET',\r\n                credentials: 'include'\r\n            });\r\n            if (response.status === 200) {\r\n                setButtonVisible(false);\r\n            } else {\r\n                setButtonVisible(true);\r\n            }\r\n            console.log(isButtonVisible)\r\n        } catch (error) {\r\n            console.error('Failed to fetch authorization:', error);\r\n        }\r\n    };\r\n\r\n    const redirectToLogin = () => {\r\n        navigate('/login');\r\n    };\r\n\r\n    const redirectToAll = () => {\r\n        navigate('/All');\r\n    };\r\n\r\n    const redirectToProfile =  () => {\r\n\r\n\r\n            if (!isButtonVisible) {\r\n                navigate('/profile');\r\n            } else {\r\n                navigate('/login');\r\n            }\r\n\r\n        };\r\n\r\n    const redirectToAudioList = () => {\r\n        navigate('/audio_playlist');\r\n    };\r\n\r\n    const handleInputChange = (event) => {\r\n        setInputValue(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <button className={isButtonVisible?\"top\":\"top active\"} onClick={redirectToLogin}>\r\n                    Sign in or sign up\r\n                </button>\r\n            <div className=\"form-container\">\r\n                <h1>Enter ID</h1>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"userId\"\r\n                    placeholder=\"Enter your ID\"\r\n                    value={inputValue}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <button onClick={redirectToUrl}>Go</button>\r\n            </div>\r\n            <button className=\"All_button\" onClick={redirectToAll}>\r\n                All\r\n            </button>\r\n            <button className=\"top-left-button5\" onClick={redirectToProfile}>\r\n                Профиль\r\n            </button>\r\n            <button className=\"top-left-button3\" onClick={redirectToAudioList}>\r\n                Музон\r\n            </button>\r\n\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Welcome;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}