{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./Styles/Profile.css';import{useNavigate}from'react-router-dom';import Menu from'./Menu';import{FaGithub,FaTelegramPlane}from'react-icons/fa';// Импорт иконок\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const navigate=useNavigate();const[menuActive,setMenuActive]=useState(false);const[isChecked,setIsChecked]=useState(false);const[url1,setUrl1]=useState('');const[url2,setUrl2]=useState('');const[userImage,setUserImage]=useState('');const redirectTo=url=>{navigate(url);};const userSocials=async()=>{try{const response=await fetch('https://localhost:8080/api/socials',{method:'GET',credentials:'include'});const user=await response.json();setUrl1(user.telegram);setUrl2(user.git);}catch(error){console.error('Error:',error);}};const userInfo=async()=>{try{const response=await fetch('https://localhost:8080/api/userInfo',{method:'GET',credentials:'include'});const user=await response.text();setUserImage(user);}catch(error){console.error('Error:',error);}};useEffect(()=>{userInfo();userSocials();// Устанавливаем начальное значение isChecked в зависимости от цвета фона\nconst initialBackgroundColor=getComputedStyle(document.body).backgroundColor;setIsChecked(initialBackgroundColor==='rgb(46, 46, 46)');// Проверка на темный цвет\n},[]);const handleChange=event=>{const checked=event.target.checked;setIsChecked(checked);document.body.style.backgroundColor=checked?'#2e2e2e':'lightgrey';};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"burger-btn\",onClick:()=>setMenuActive(!menuActive),children:[/*#__PURE__*/_jsx(\"span\",{className:menuActive?'line1 active':'line1'}),/*#__PURE__*/_jsx(\"span\",{className:menuActive?'line2 active':'line2'}),/*#__PURE__*/_jsx(\"span\",{className:menuActive?'line3 active':'line3'})]})}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{id:\"myImage\",src:\"https://localhost:8080/api/images/\".concat(userImage),alt:\"Profile\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"back_up\",onClick:()=>redirectTo('/'),children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"toggle-switch\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"toggle\",className:\"toggle-input\",checked:isChecked,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"toggle\",className:\"toggle-label\"})]}),/*#__PURE__*/_jsx(Menu,{active:menuActive,setActive:setMenuActive}),url1&&/*#__PURE__*/_jsx(\"div\",{className:\"link-preview\",children:/*#__PURE__*/_jsxs(\"a\",{href:url1,target:\"_blank\",rel:\"noopener noreferrer\",children:[/*#__PURE__*/_jsx(FaTelegramPlane,{}),\" \",url1]})}),url2&&/*#__PURE__*/_jsx(\"div\",{className:\"link-preview1\",children:/*#__PURE__*/_jsxs(\"a\",{href:url2,target:\"_blank\",rel:\"noopener noreferrer\",children:[/*#__PURE__*/_jsx(FaGithub,{}),\" \",url2]})})]});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Menu","FaGithub","FaTelegramPlane","jsx","_jsx","jsxs","_jsxs","Profile","navigate","menuActive","setMenuActive","isChecked","setIsChecked","url1","setUrl1","url2","setUrl2","userImage","setUserImage","redirectTo","url","userSocials","response","fetch","method","credentials","user","json","telegram","git","error","console","userInfo","text","initialBackgroundColor","getComputedStyle","document","body","backgroundColor","handleChange","event","checked","target","style","children","className","onClick","id","src","concat","alt","type","onChange","htmlFor","active","setActive","href","rel"],"sources":["C:/Users/dimu2/Java/SpringSecurity_1805/Frontend/spa/src/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './Styles/Profile.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Menu from './Menu';\r\nimport { FaGithub, FaTelegramPlane } from 'react-icons/fa'; // Импорт иконок\r\n\r\nconst Profile = () => {\r\n    const navigate = useNavigate();\r\n    const [menuActive, setMenuActive] = useState(false);\r\n    const [isChecked, setIsChecked] = useState(false);\r\n    const [url1, setUrl1] = useState('');\r\n    const [url2, setUrl2] = useState('');\r\n    const [userImage, setUserImage] = useState('');\r\n\r\n    const redirectTo = (url) => {\r\n        navigate(url);\r\n    };\r\n\r\n    const userSocials = async () => {\r\n        try {\r\n            const response = await fetch('https://localhost:8080/api/socials', {\r\n                method: 'GET',\r\n                credentials: 'include'\r\n            });\r\n            const user = await response.json();\r\n            setUrl1(user.telegram);\r\n            setUrl2(user.git);\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n        }\r\n    };\r\n\r\n    const userInfo = async () => {\r\n        try {\r\n            const response = await fetch('https://localhost:8080/api/userInfo', {\r\n                method: 'GET',\r\n                credentials: 'include'\r\n            });\r\n            const user = await response.text();\r\n            setUserImage(user);\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        userInfo();\r\n        userSocials();\r\n\r\n        // Устанавливаем начальное значение isChecked в зависимости от цвета фона\r\n        const initialBackgroundColor = getComputedStyle(document.body).backgroundColor;\r\n        setIsChecked(initialBackgroundColor === 'rgb(46, 46, 46)'); // Проверка на темный цвет\r\n    }, []);\r\n\r\n    const handleChange = (event) => {\r\n        const checked = event.target.checked;\r\n        setIsChecked(checked);\r\n\r\n        document.body.style.backgroundColor = checked ? '#2e2e2e' : 'lightgrey';\r\n\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <nav>\r\n                <div className='burger-btn' onClick={() => setMenuActive(!menuActive)}>\r\n                    <span className={menuActive ? 'line1 active' : 'line1'}/>\r\n                    <span className={menuActive ? 'line2 active' : 'line2'}/>\r\n                    <span className={menuActive ? 'line3 active' : 'line3'}/>\r\n                </div>\r\n            </nav>\r\n\r\n            <main>\r\n                <div>\r\n                    <img id=\"myImage\" src={`https://localhost:8080/api/images/${userImage}`} alt=\"Profile\"/>\r\n                </div>\r\n            </main>\r\n            <button className=\"back_up\" onClick={() => redirectTo('/')}>Назад</button>\r\n            <div className=\"toggle-switch\">\r\n                <input\r\n                    type=\"checkbox\"\r\n                    id=\"toggle\"\r\n                    className=\"toggle-input\"\r\n                    checked={isChecked}\r\n                    onChange={handleChange}\r\n                />\r\n                <label htmlFor=\"toggle\" className=\"toggle-label\"></label>\r\n            </div>\r\n            <Menu active={menuActive} setActive={setMenuActive}/>\r\n            {url1 && (\r\n                <div className=\"link-preview\">\r\n                    <a href={url1} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        <FaTelegramPlane/> {url1}\r\n                    </a>\r\n                </div>\r\n            )}\r\n            {url2 && (\r\n                <div className=\"link-preview1\">\r\n                    <a href={url2} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        <FaGithub/> {url2}\r\n                    </a>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}