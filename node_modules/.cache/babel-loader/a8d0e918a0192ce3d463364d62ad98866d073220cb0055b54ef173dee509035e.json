{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./Styles/ID.css';// Импортируйте CSS файл\nimport{useLocation,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Id=()=>{const location=useLocation();const{inputValue}=location.state||{inputValue:'No ID provided'};const[data,setData]=useState([]);const[error,setError]=useState(null);const[loading,setLoading]=useState(true);// Добавляем состояние загрузки\nconst navigate=useNavigate();// Используем хук для навигации, если нужно\nuseEffect(()=>{jsonFromBack();},[]);// Добавляем зависимость от message, чтобы запрос выполнялся при его изменении\nconst redirectTo=url=>{navigate(url);};const jsonFromBack=async()=>{setLoading(true);// Устанавливаем состояние загрузки перед началом запроса\ntry{const response=await fetch(\"https://localhost:8080/api/programInfo/\".concat(inputValue),{method:'GET',credentials:\"include\"});if(!response.ok){throw new Error(\"HTTP error! Status: \".concat(response.status));}const result=await response.json();setData(result);}catch(error){setError(error.message);}finally{setLoading(false);// Сбрасываем состояние загрузки после завершения запроса\n}};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Показываем индикатор загрузки\n}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"table\",{border:\"1\",cellPadding:\"5\",cellSpacing:\"0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Author\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Version\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"th\",{children:data.author}),/*#__PURE__*/_jsxs(\"th\",{children:[data.name,\" \"]}),/*#__PURE__*/_jsx(\"th\",{children:data.version})]})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"back_up\",onClick:()=>redirectTo('/'),children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})]});};export default Id;","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Id","location","inputValue","state","data","setData","error","setError","loading","setLoading","navigate","jsonFromBack","redirectTo","url","response","fetch","concat","method","credentials","ok","Error","status","result","json","message","children","border","cellPadding","cellSpacing","author","name","version","className","onClick"],"sources":["C:/Users/dimu2/Java/SpringSecurity_1805/Frontend/spa/src/ID.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './Styles/ID.css'; // Импортируйте CSS файл\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\n\r\nconst Id = () => {\r\n    const location = useLocation();\r\n    const { inputValue } = location.state || { inputValue: 'No ID provided' };\r\n    const [data, setData] = useState([]);\r\n    const [error, setError] = useState(null);\r\n    const [loading, setLoading] = useState(true); // Добавляем состояние загрузки\r\n    const navigate = useNavigate(); // Используем хук для навигации, если нужно\r\n\r\n    useEffect(() => {\r\n        jsonFromBack();\r\n    }, []); // Добавляем зависимость от message, чтобы запрос выполнялся при его изменении\r\n    const redirectTo = (url) => {\r\n        navigate(url);\r\n    };\r\n    const jsonFromBack = async () => {\r\n        setLoading(true); // Устанавливаем состояние загрузки перед началом запроса\r\n        try {\r\n            const response = await fetch(`https://localhost:8080/api/programInfo/${inputValue}`, {\r\n                method: 'GET',\r\n                credentials: \"include\"\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n\r\n            const result = await response.json();\r\n            setData(result);\r\n        } catch (error) {\r\n            setError(error.message);\r\n        } finally {\r\n            setLoading(false); // Сбрасываем состояние загрузки после завершения запроса\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>; // Показываем индикатор загрузки\r\n    }\r\n\r\n    if (error) {\r\n        return <div>Error: {error}</div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <table border=\"1\" cellPadding=\"5\" cellSpacing=\"0\">\r\n                <thead>\r\n                <tr>\r\n                    <th>Author</th>\r\n                    <th>Version</th>\r\n                    <th>Name</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {data && (\r\n                    <>\r\n                        <th>{data.author}</th>\r\n                        <th>{data.name} </th>\r\n                        <th>{data.version}</th>\r\n                    </>\r\n                )}\r\n                </tbody>\r\n            </table>\r\n            <button className=\"back_up\" onClick={() => redirectTo('/')}>Назад</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Id;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}